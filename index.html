<!doctype html>
<html lang="ja">

<head id="head">
    <meta charset="UTF-8">
    <title>Firsit</title>
    <meta name="description" content="BGMを聴こう!　Firsitを使って、勉強からお部屋の雰囲気作りまで、日々の生活を音楽で満たしましょう。bgmサイト　Firsit">
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="images/favicon.jpg">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2KR4YNFBED"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-2KR4YNFBED');
    </script>
</head>

<body>
    <!--ヘッダー-->
    <header class="page-header wrapper">
        <div class="first">
            <p><a href="index.html"><img class="logo" src="images/favicon.jpg"></a></p>
            <h1><a href="index.html">Firsit</a></h1>
        </div>
        <nav>
            <ul class="main-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="home/contact.html">Contact</a></li>
                <li><a href="home/ranbom.html">Random</a></li>
            </ul>
        </nav>
    </header>
    <div class="main-content">
        <!--サイドバー-->
        <div class="sideber">
            <aside>
                <nav>
                    <h3 class="genre">   ジャンル</h3>
                    <ul class="sub-menu">
                        <li><a href="home/clasic.html">クラシック</a></li>
                        <li><a href="home/music-box.html">オルゴール</a></li>
                        <li><a href="home/piano.html">ピアノ</a></li>
                        <li><a href="home/sharou.html">しゃろう</a></li>
                        <li><a href="home/j-pop.html">J-pop</a></li>
                        <li><a href="home/anime.html">アニメソング</a></li>
                        <li><a href="home/vokaro.html">ボーカロイド</a></li>
                        <li><a href="home/suggest.html">製作者のおすすめ</a></li>
                        <li><a href="home/jaz.html">ジャズ</a></li>
                        <li><a href="home/relax.html">リラックス</a></li>
                        <li><a href="home/alfa.html">アルファ波</a></li>
                        <li><a href="home/game.html">ゲーム内音楽</a></li>
                        <li><a href="home/giburi.html">ジブリ</a></li>
                        <li><a href="home/machine.html">機械音</a></li>
                        <li><a href="home/pen.html">勉強中の音</a></li>
                        <li><a href="home/season.html">季節の音楽</a></li>
                    </ul>
                </nav>
                <div class="other">
                    <h3 class="genru"></h3>
                    <ul class="sub-menu">
                        <li><a href="home/about-site.html">Firsitについて</a></li>
                        <li><a href="home/about-songs.html">曲の説明</a></li>
                        <li><a href="home/report.html">バグの報告</a></li>
                        <li><a href="home/addition-content.html">コンテンツ追加要望</a></li>
                        <li><a href="home/contact.html">お問い合わせ</a></li>
                        <li><a href="home/copyright.html">著作権について</a></li>
                    </ul>
                </div>
            </aside>
        </div>
        <!--メイン-->
        <main>

            <h2 class="song-name">ようこそ！</h2>
            <img class="songs-images" src="images/home.jpg" alt="ホーム">
            <h2 class="hellow">Firsit(ファーシット)にようこそ！</h2>
            <p class="hellow-words"> BGMを聞いて気分をリフレッシュすれば、</p>
            <p class="hellow-words">勉強の効率が上がるのも間違いなし。</p>
            <p class="hellow-words">勉強だけでなくお部屋の雰囲気づくりにもどうぞ！</p>
            <div class="today">
                <div id="tomonth-name"></div>
                <div id="tomonth-bgm"></div>
                <div id="month-name-bgm"></div>
                <div id="month-word"></div>
                <script type="text/javascript" src="randamu.js"></script>
                <h3 id="name-today">本日のおすすめ</h3>
                <div id="today-bgm"></div>
                <div id="name-bgm"></div>
                <!-- ここに今日のBGMが入る -->
                <script type="text/javascript" src="randamu-name.js"></script>

            </div>
            <h3 class="song-name">タイマー</h3>
            <div id="timer">
                <div id="bargroup">
                    <div class="time">時：<span id="hour_value">0</span><br><input id="hour" type="range" min="0" max="99"
                            step="1" value="0" style="width: 200px;height:auto"><br></div>
                    <div class="time">分：<span id="minute_value">0</span><br><input id="minute" type="range" min="0"
                            max="59" step="1" value="0" style="width: 200px;height:auto"><br> </div>
                    <div class="time">秒：<span id="second_value">30</span><br><input id="second" type="range" min="0"
                            max="59" step="1" value="30" style="width: 200px;height:auto"><br> </div>
                </div>


                <h1 id="varvar">
                    <div id="largehour" class="time_display" style="display: inline-block; _display: inline;"><span
                            id="hour_display">00</span></div>:
                    <div id="largeminute" class="time_display" style="display: inline-block; _display: inline;"><span
                            id="minute_display">00</span></div>:
                    <div id="largesecond" class="time_display" style="display: inline-block; _display: inline;"><span
                            id="second_display">30</span></div>
                </h1><br>

                <input type="button" id="start_button" value="start"
                    style="background-color:aliceblue;text-decoration-color: aqua" onclick="start()">
                <input type="button" id="stop_button" value="stop"
                    style="background-color:aliceblue;text-decoration-color: aqua" onclick="stop()" disabled>
                <input type="button" id="reset_button" value="reset"
                    style="background-color:aliceblue;text-decoration-color: aqua" onclick="reset()" disabled><br>

                <script>
                    var time = document.getElementsByClassName('time');
                    var time_display = document.getElementsByClassName("time_display");
                    function rangeValue(time, target, target2) {
                        return function () {
                            if (time.value >= 10) {
                                target.innerHTML = time.value;
                                target2.innerHTML = time.value;
                            } else {
                                target.innerHTML = "0" + time.value;
                                target2.innerHTML = "0" + time.value;
                            }
                        }
                    }
                    for (var i = 0; i < time.length; i++) {
                        bar = time[i].getElementsByTagName("input")[0];
                        target = time[i].getElementsByTagName("span")[0];
                        target2 = time_display[i].getElementsByTagName("span")[0];
                        bar.addEventListener("input", rangeValue(bar, target, target2));
                    }
                    //1時間を3600秒、1分を60秒、にして合計の秒数を返す
                    function timeAll() {
                        var hour_all = document.getElementById("hour").value;
                        var minute_all = document.getElementById("minute").value;
                        var second_all = document.getElementById("second").value;
                        var all = Number(hour_all * 3600) + Number(minute_all * 60) + Number(second_all);
                        return all;
                    }
                    //タイム計測中であるかどうか
                    var ontheway = false;
                    //入力された合計の秒数
                    var onthewayallsec = 0;
                    //スタートボタンを押したときの処理
                    function start() {
                        //visibilityプロパティを使用してスライダーを隠し、disabled属性でスタートボタン、リセットボタンも押せなくしている
                        document.getElementById("bargroup").style.visibility = "hidden";
                        document.getElementById("start_button").disabled = "disabled";
                        document.getElementById("reset_button").disabled = "disabled";
                        document.getElementById("stop_button").disabled = ""
                        if (ontheway == false) {
                            var allsec = timeAll();
                        } else {
                            var allsec = onthewayallsec;
                        }
                        ontheway = false;
                        var dt = new Date();
                        var endDt = new Date(dt.getTime() + allsec * 1000);
                        hour = Math.floor(allsec / 3600);
                        if (hour < 10) {
                            largehour.innerHTML = "0" + hour;
                        } else {
                            largehour.innerHTML = hour;
                        }
                        hour_remainder = Math.floor(allsec % 3600);
                        minute = Math.floor(hour_remainder / 60);
                        if (minute < 10) {
                            largeminute.innerHTML = "0" + minute;
                        } else {
                            largeminute.innerHTML = minute;
                        }
                        sec = Math.floor(hour_remainder % 60);
                        if (sec < 10) {
                            largesecond.innerHTML = "0" + sec;
                        } else {
                            largesecond.innerHTML = sec;
                        }
                        //処理間隔は0.1秒にしている、1秒だとストップする際にラグを感じる
                        var count_down = setInterval(function () {
                            allsec = allsec - 0.1;
                            dt = new Date();
                            hour = Math.floor(allsec / 3600);
                            if (hour < 10) {
                                largehour.innerHTML = "0" + hour;
                            } else {
                                largehour.innerHTML = hour;
                            }
                            hour_remainder = Math.floor(allsec % 3600);
                            minute = Math.floor(hour_remainder / 60);
                            if (minute < 10) {
                                largeminute.innerHTML = "0" + minute;
                            } else {
                                largeminute.innerHTML = minute;
                            }
                            sec = Math.floor(hour_remainder % 60);
                            if (sec < 10) {
                                largesecond.innerHTML = "0" + sec;
                            } else {
                                largesecond.innerHTML = sec;
                            }
                            if (dt.getTime() >= endDt.getTime()) {
                                clearInterval(count_down);
                                largeminute.innerHTML = minute;
                                largesecond.innerHTML = "00";
                                largeminute.innerHTML = "00";
                                largehour.innerHTML = "00";
                            }
                            if (ontheway == true) {
                                clearInterval(count_down);
                                onthewayallsec = allsec;
                            }
                        }, 100);
                    }

                    function stop() {
                        ontheway = true;
                        document.getElementById("start_button").disabled = "";
                        document.getElementById("reset_button").disabled = "";
                        document.getElementById("stop_button").disabled = "disabled"
                    }
                    //リセットボタンを押すとページがリロードされる(最初の状態に戻る)
                    function reset() {
                        location.reload();
                    }
                    function playaudio() {
                        location.reload();
                    }
                    function stopaudio() {
                        location.reload();
                    }
                </script>
            </div>
        </main>
    </div>
    <!--フッター-->
    <footer>
        <div class="under">
            <p><small>&copy; 2021 Firsit </small></p>
        </div>
    </footer>
</body>

</html>